CFLAGS = -G -I\TC\INCLUDE -I..\LIB -ml -d -w -DMEMORY_DEBUG -DFAR_MEMORY
CFLAGS_EXE = -G -L\TC\LIB -ml -d -w
DEMO_OBJS = MKDEMO.OBJ CAMPAIGN.OBJ IO.OBJ ITEMS.OBJ MONSTERS.OBJ SAVE.OBJ ZONE.OBJ
MAIN_OBJS = DOSJUN.OBJ CAMPAIGN.OBJ CODE.OBJ COMBAT.OBJ FONT.OBJ FP.OBJ GFX.OBJ GRF.OBJ INPUT.OBJ IO.OBJ ITEMS.OBJ JFIGHTER.OBJ JCLERIC.OBJ JMAGE.OBJ JBARD.OBJ JROGUE.OBJ JRANGER.OBJ JOBS.OBJ LIST.OBJ LOGGING.OBJ MAIN.OBJ MEM.OBJ MONSTERS.OBJ MUS_SNG.OBJ MUSIC.OBJ PARTY.OBJ SAVE.OBJ SOUND.OBJ STATUS.OBJ ZONE.OBJ
EDITOR_OBJS = EDITOR.OBJ GFX.OBJ INPUT.OBJ IO.OBJ ITEMS.OBJ JC.OBJ JC_LEX.OBJ JC_PAR.OBJ MEM.OBJ MONSTERS.OBJ SAVE.OBJ ZONE.OBJ
JCC_OBJS = JCC.OBJ JC.OBJ JC_LEX.OBJ JC_PAR.OBJ MEM.OBJ
HEADERS = CAMPAIGN.H CODE.H COMBAT.H COMMON.H DOSJUN.H FILES.H FONT.H FP.H GFX.H GRF.H INPUT.H IO.H ITEMS.H JBARD.H JC.H JCLERIC.H JFIGHTER.H JMAGE.H JOBS.H JRANGER.H JROGUE.H LIST.H LOGGING.H MAIN.H MONSTERS.H MUSIC.H MUS_SNG.H PARTY.H SAVE.H SOUND.H STATUS.H TYPES.H ZONE.H

all: dosjun

demo: MKDEMO.EXE DEMO.ZON
dosjun: DOSJUN.EXE
editor: EDITOR.EXE
jcc: JCC.EXE

DEMO.ZON: MKDEMO.EXE
	MKDEMO

DOSJUN.EXE: $(MAIN_OBJS) $(HEADERS)
	TCC $(CFLAGS_EXE) DOSJUN.OBJ DOSJUN.LIB ..\LIB\GAMELIBL.LIB

EDITOR.EXE: $(EDITOR_OBJS) $(HEADERS)
	TCC $(CFLAGS_EXE) EDITOR.OBJ DOSJUN.LIB ..\LIB\GAMELIBL.LIB

MKDEMO.EXE: $(MKDEMO_OBJS) $(HEADERS)
	TCC $(CFLAGS_EXE) MKDEMO.OBJ DOSJUN.LIB ..\LIB\GAMELIBL.LIB

JCC.EXE: $(JCC_OBJS) $(HEADERS)
	TCC $(CFLAGS_EXE) JCC.OBJ DOSJUN.LIB ..\LIB\GAMELIBL.LIB

CAMPAIGN.OBJ: CAMPAIGN.C $(HEADERS)
	TCC $(CFLAGS) -c -oCAMPAIGN.OBJ CAMPAIGN.C
	TLIB DOSJUN.LIB +-CAMPAIGN.OBJ, DOSJUN.TXT

CODE.OBJ: CODE.C $(HEADERS)
	TCC $(CFLAGS) -c -oCODE.OBJ CODE.C
	TLIB DOSJUN.LIB +-CODE.OBJ, DOSJUN.TXT

COMBAT.OBJ: COMBAT.C $(HEADERS)
	TCC $(CFLAGS) -c -oCOMBAT.OBJ COMBAT.C
	TLIB DOSJUN.LIB +-COMBAT.OBJ, DOSJUN.TXT

DOSJUN.OBJ: DOSJUN.C $(HEADERS)
	TCC $(CFLAGS) -c -oDOSJUN.OBJ DOSJUN.C

EDITOR.OBJ: EDITOR.C $(HEADERS)
	TCC $(CFLAGS) -c -oEDITOR.OBJ EDITOR.C

FONT.OBJ: FONT.C $(HEADERS)
	TCC $(CFLAGS) -c -oFONT.OBJ FONT.C
	TLIB DOSJUN.LIB +-FONT.OBJ, DOSJUN.TXT

FP.OBJ: FP.C $(HEADERS)
	TCC $(CFLAGS) -c -oFP.OBJ FP.C
	TLIB DOSJUN.LIB +-FP.OBJ, DOSJUN.TXT

GFX.OBJ: GFX.C $(HEADERS)
	TCC $(CFLAGS) -c -oGFX.OBJ GFX.C
	TLIB DOSJUN.LIB +-GFX.OBJ, DOSJUN.TXT

GRF.OBJ: GRF.C $(HEADERS)
	TCC $(CFLAGS) -c -oGRF.OBJ GRF.C
	TLIB DOSJUN.LIB +-GRF.OBJ, DOSJUN.TXT

INPUT.OBJ: INPUT.C $(HEADERS)
	TCC $(CFLAGS) -c -oINPUT.OBJ INPUT.C
	TLIB DOSJUN.LIB +-INPUT.OBJ, DOSJUN.TXT

IO.OBJ: IO.C $(HEADERS)
	TCC $(CFLAGS) -c -oIO.OBJ IO.C
	TLIB DOSJUN.LIB +-IO.OBJ, DOSJUN.TXT

ITEMS.OBJ: ITEMS.C $(HEADERS)
	TCC $(CFLAGS) -c -oITEMS.OBJ ITEMS.C
	TLIB DOSJUN.LIB +-ITEMS.OBJ, DOSJUN.TXT

JBARD.OBJ: JBARD.C $(HEADERS)
	TCC $(CFLAGS) -c -oJBARD.OBJ JBARD.C
	TLIB DOSJUN.LIB +-JBARD.OBJ, DOSJUN.TXT

JC.OBJ: JC.C $(HEADERS)
	TCC $(CFLAGS) -c -oJC.OBJ JC.C
	TLIB DOSJUN.LIB +-JC.OBJ, DOSJUN.TXT

JCC.OBJ: JCC.C $(HEADERS)
	TCC $(CFLAGS) -c -oJCC.OBJ JCC.C

JCLERIC.OBJ: JCLERIC.C $(HEADERS)
	TCC $(CFLAGS) -c -oJCLERIC.OBJ JCLERIC.C
	TLIB DOSJUN.LIB +-JCLERIC.OBJ, DOSJUN.TXT

JC_LEX.OBJ: JC_LEX.C $(HEADERS)
	TCC $(CFLAGS) -c -oJC_LEX.OBJ JC_LEX.C
	TLIB DOSJUN.LIB +-JC_LEX.OBJ, DOSJUN.TXT

JC_PAR.OBJ: JC_PAR.C $(HEADERS)
	TCC $(CFLAGS) -c -oJC_PAR.OBJ JC_PAR.C
	TLIB DOSJUN.LIB +-JC_PAR.OBJ, DOSJUN.TXT

JFIGHTER.OBJ: JFIGHTER.C $(HEADERS)
	TCC $(CFLAGS) -c -oJFIGHTER.OBJ JFIGHTER.C
	TLIB DOSJUN.LIB +-JFIGHTER.OBJ, DOSJUN.TXT

JMAGE.OBJ: JMAGE.C $(HEADERS)
	TCC $(CFLAGS) -c -oJMAGE.OBJ JMAGE.C
	TLIB DOSJUN.LIB +-JMAGE.OBJ, DOSJUN.TXT

JOBS.OBJ: JOBS.C $(HEADERS)
	TCC $(CFLAGS) -c -oJOBS.OBJ JOBS.C
	TLIB DOSJUN.LIB +-JOBS.OBJ, DOSJUN.TXT

JRANGER.OBJ: JRANGER.C $(HEADERS)
	TCC $(CFLAGS) -c -oJRANGER.OBJ JRANGER.C
	TLIB DOSJUN.LIB +-JRANGER.OBJ, DOSJUN.TXT

JROGUE.OBJ: JROGUE.C $(HEADERS)
	TCC $(CFLAGS) -c -oJROGUE.OBJ JROGUE.C
	TLIB DOSJUN.LIB +-JROGUE.OBJ, DOSJUN.TXT

LIST.OBJ: LIST.C $(HEADERS)
	TCC $(CFLAGS) -c -oLIST.OBJ LIST.C
	TLIB DOSJUN.LIB +-LIST.OBJ, DOSJUN.TXT

LOGGING.OBJ: LOGGING.C $(HEADERS)
	TCC $(CFLAGS) -c -oLOGGING.OBJ LOGGING.C
	TLIB DOSJUN.LIB +-LOGGING.OBJ, DOSJUN.TXT

MAIN.OBJ: MAIN.C $(HEADERS)
	TCC $(CFLAGS) -c -oMAIN.OBJ MAIN.C
	TLIB DOSJUN.LIB +-MAIN.OBJ, DOSJUN.TXT

MEM.OBJ: MEM.C $(HEADERS)
	TCC $(CFLAGS) -c -oMEM.OBJ MEM.C
	TLIB DOSJUN.LIB +-MEM.OBJ, DOSJUN.TXT

MKDEMO.OBJ: MKDEMO.C $(HEADERS)
	TCC $(CFLAGS) -c -oMKDEMO.OBJ MKDEMO.C

MONSTERS.OBJ: MONSTERS.C $(HEADERS)
	TCC $(CFLAGS) -c -oMONSTERS.OBJ MONSTERS.C
	TLIB DOSJUN.LIB +-MONSTERS.OBJ, DOSJUN.TXT

MUSIC.OBJ: MUSIC.C $(HEADERS)
	TCC $(CFLAGS) -c -oMUSIC.OBJ MUSIC.C
	TLIB DOSJUN.LIB +-MUSIC.OBJ, DOSJUN.TXT

MUS_SNG.OBJ: MUS_SNG.C $(HEADERS)
	TCC $(CFLAGS) -c -oMUS_SNG.OBJ MUS_SNG.C
	TLIB DOSJUN.LIB +-MUS_SNG.OBJ, DOSJUN.TXT

PARTY.OBJ: PARTY.C $(HEADERS)
	TCC $(CFLAGS) -c -oPARTY.OBJ PARTY.C
	TLIB DOSJUN.LIB +-PARTY.OBJ, DOSJUN.TXT

SAVE.OBJ: SAVE.C $(HEADERS)
	TCC $(CFLAGS) -c -oSAVE.OBJ SAVE.C
	TLIB DOSJUN.LIB +-SAVE.OBJ, DOSJUN.TXT

SOUND.OBJ: SOUND.C $(HEADERS)
	TCC $(CFLAGS) -c -oSOUND.OBJ SOUND.C
	TLIB DOSJUN.LIB +-SOUND.OBJ, DOSJUN.TXT

STATUS.OBJ: STATUS.C $(HEADERS)
	TCC $(CFLAGS) -c -oSTATUS.OBJ STATUS.C
	TLIB DOSJUN.LIB +-STATUS.OBJ, DOSJUN.TXT

ZONE.OBJ: ZONE.C $(HEADERS)
	TCC $(CFLAGS) -c -oZONE.OBJ ZONE.C
	TLIB DOSJUN.LIB +-ZONE.OBJ, DOSJUN.TXT
